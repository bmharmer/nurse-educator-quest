<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nurse Educator Quest System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 900px;
            width: 100%;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }

        .game-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #4CAF50, #2196F3, #FF9800, #E91E63);
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
            font-weight: 600;
            text-align: center;
        }

        .subtitle {
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.2em;
            text-align: center;
        }

        .badges-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .badges-title {
            font-size: 1.3em;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .badges-grid {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border-radius: 12px;
            min-width: 100px;
            background: #e9ecef;
            color: #6c757d;
            transition: all 0.3s ease;
        }

        .badge.earned {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #856404;
            animation: badgeGlow 2s infinite alternate;
        }

        @keyframes badgeGlow {
            from { box-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
            to { box-shadow: 0 0 20px rgba(255, 215, 0, 0.8); }
        }

        .badge-icon {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .badge-name {
            font-size: 0.8em;
            font-weight: 600;
            text-align: center;
        }

        .quest-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .quest-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .quest-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--quest-color);
        }

        .quest-card:hover:not(.locked) {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
            border-color: var(--quest-color);
        }

        .quest-card.completed {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border-color: #28a745;
        }

        .quest-card.locked {
            background: linear-gradient(135deg, #f8f9fa, #dee2e6);
            opacity: 0.6;
            cursor: not-allowed;
        }

        .quest-icon {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }

        .quest-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .quest-description {
            color: #6c757d;
            font-size: 0.95em;
            line-height: 1.4;
            margin-bottom: 15px;
        }

        .quest-progress {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9em;
        }

        .quest-difficulty {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
            text-transform: uppercase;
        }

        .difficulty-basic { background: #d1ecf1; color: #0c5460; }
        .difficulty-intermediate { background: #fff3cd; color: #856404; }
        .difficulty-advanced { background: #f8d7da; color: #721c24; }

        .quest-status {
            font-weight: 600;
        }

        .status-available { color: #28a745; }
        .status-completed { color: #6f42c1; }
        .status-locked { color: #6c757d; }

        /* Game Screen Styles */
        .game-screen {
            display: none;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
        }

        .back-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .back-btn:hover {
            background: #5a6268;
        }

        .quest-info {
            text-align: center;
        }

        .quest-name {
            font-size: 1.5em;
            color: #2c3e50;
            font-weight: 600;
        }

        .question-counter {
            color: #6c757d;
            margin-top: 5px;
        }

        .score-display {
            text-align: right;
        }

        .score-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #2c3e50;
        }

        .score-label {
            color: #6c757d;
            font-size: 0.9em;
        }

        .question-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: left;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }

        .scenario-box {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 5px solid #2196F3;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-style: italic;
        }

        .question {
            font-size: 1.3em;
            color: #2c3e50;
            margin-bottom: 25px;
            line-height: 1.5;
            font-weight: 500;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .option.correct {
            border-color: #4CAF50;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .option.incorrect {
            border-color: #f44336;
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            font-size: 1.1em;
            line-height: 1.5;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .next-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            display: none;
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }

        .category-badge {
            display: inline-block;
            background: linear-gradient(135deg, #FF6B6B, #ee5a24);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .quest-complete {
            display: none;
            text-align: center;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            padding: 40px;
            border-radius: 20px;
            border: 3px solid #28a745;
        }

        .complete-title {
            font-size: 2.5em;
            color: #155724;
            margin-bottom: 20px;
        }

        .complete-score {
            font-size: 2em;
            color: #2c3e50;
            margin: 20px 0;
            font-weight: bold;
        }

        .return-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .return-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(40, 167, 69, 0.3);
        }

        .new-badge {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .quest-locked-message {
            text-align: center;
            background: #f8d7da;
            color: #721c24;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>🎓 Nurse Educator Quest System</h1>
        <p class="subtitle">Master Assessment & Educational Technology Through Interactive Quests</p>
        
        <!-- Quest Map Screen -->
        <div id="quest-map" class="quest-map">
            <div class="badges-container">
                <div class="badges-title">🏆 Achievement Badges</div>
                <div class="badges-grid">
                    <div class="badge" id="badge-0">
                        <div class="badge-icon">🏛️</div>
                        <div class="badge-name">Foundation Master</div>
                    </div>
                    <div class="badge" id="badge-1">
                        <div class="badge-icon">💻</div>
                        <div class="badge-name">Tech Innovator</div>
                    </div>
                    <div class="badge" id="badge-2">
                        <div class="badge-icon">🤖</div>
                        <div class="badge-name">Simulation Expert</div>
                    </div>
                    <div class="badge" id="badge-3">
                        <div class="badge-icon">🛡️</div>
                        <div class="badge-name">AI Ethics Champion</div>
                    </div>
                    <div class="badge" id="badge-4">
                        <div class="badge-icon">💡</div>
                        <div class="badge-name">Resource Strategist</div>
                    </div>
                    <div class="badge" id="badge-5">
                        <div class="badge-icon">👑</div>
                        <div class="badge-name">Quest Master</div>
                    </div>
                </div>
            </div>

            <div class="quest-grid">
                <div class="quest-card" id="quest-0" style="--quest-color: #4CAF50;" onclick="startQuest('foundations', 0)">
                    <div class="quest-icon">🏛️</div>
                    <div class="quest-title">Assessment Foundations</div>
                    <div class="quest-description">Build your foundation in nursing education assessment principles and best practices.</div>
                    <div class="quest-progress">
                        <span class="quest-difficulty difficulty-basic">basic</span>
                        <span class="quest-status status-available">🚀 Available</span>
                    </div>
                </div>
                
                <div class="quest-card locked" id="quest-1" style="--quest-color: #2196F3;" onclick="startQuest('technology', 1)">
                    <div class="quest-icon">💻</div>
                    <div class="quest-title">Technology Integration Mastery</div>
                    <div class="quest-description">Master the art of integrating educational technology, from OER to AI ethics in nursing education.</div>
                    <div class="quest-progress">
                        <span class="quest-difficulty difficulty-intermediate">intermediate</span>
                        <span class="quest-status status-locked">🔒 Locked</span>
                    </div>
                </div>
                
                <div class="quest-card locked" id="quest-2" style="--quest-color: #FF9800;" onclick="startQuest('simulation', 2)">
                    <div class="quest-icon">🤖</div>
                    <div class="quest-title">Simulation Excellence</div>
                    <div class="quest-description">Excel in simulation-based learning, OSCEs, standardized patients, and advanced simulation techniques.</div>
                    <div class="quest-progress">
                        <span class="quest-difficulty difficulty-intermediate">intermediate</span>
                        <span class="quest-status status-locked">🔒 Locked</span>
                    </div>
                </div>
                
                <div class="quest-card locked" id="quest-3" style="--quest-color: #E91E63;" onclick="startQuest('aiethics', 3)">
                    <div class="quest-icon">🛡️</div>
                    <div class="quest-title">AI & Ethics Navigator</div>
                    <div class="quest-description">Navigate the complex landscape of AI in healthcare education, deepfakes, and ethical considerations.</div>
                    <div class="quest-progress">
                        <span class="quest-difficulty difficulty-advanced">advanced</span>
                        <span class="quest-status status-locked">🔒 Locked</span>
                    </div>
                </div>
                
                <div class="quest-card locked" id="quest-4" style="--quest-color: #9C27B0;" onclick="startQuest('resources', 4)">
                    <div class="quest-icon">💡</div>
                    <div class="quest-title">Strategic Resource Allocation</div>
                    <div class="quest-description">Master complex decision-making for educational resource allocation and strategic planning.</div>
                    <div class="quest-progress">
                        <span class="quest-difficulty difficulty-advanced">advanced</span>
                        <span class="quest-status status-locked">🔒 Locked</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="game-screen">
            <div class="game-header">
                <button class="back-btn" onclick="returnToMap()">← Quest Map</button>
                <div class="quest-info">
                    <div class="quest-name" id="current-quest-name">Assessment Foundations</div>
                    <div class="question-counter"><span id="current-question">1</span> of <span id="total-questions">5</span></div>
                </div>
                <div class="score-display">
                    <div class="score-value" id="score">0</div>
                    <div class="score-label">Score</div>
                </div>
            </div>

            <div class="question-container">
                <div class="category-badge" id="category">Assessment Principles</div>
                <div id="scenario"></div>
                <div class="question" id="question-text">Loading question...</div>
                <div class="options" id="options">
                </div>
                <div class="feedback" id="feedback"></div>
                <button class="next-btn" id="next-btn" onclick="nextQuestion()">Next Question →</button>
            </div>
        </div>

        <!-- Quest Complete Screen -->
        <div id="quest-complete" class="quest-complete">
            <div class="complete-title">🎉 Quest Complete!</div>
            <div class="complete-score" id="final-score">100%</div>
            <div id="badge-earned">
                <div class="new-badge">
                    🎉 New Badge Earned! 🎉<br>
                    <div style="font-size: 2em; margin: 10px 0;" id="new-badge-icon">🏛️</div>
                    <strong id="new-badge-name">Foundation Master</strong><br>
                    <small id="new-badge-desc">Complete the Assessment Foundations quest</small>
                </div>
            </div>
            <div id="completion-message">
                <p style="font-size: 1.2em; margin: 20px 0;">🌟 Outstanding mastery! You've demonstrated exceptional understanding of these concepts.</p>
            </div>
            <button class="return-btn" onclick="returnToMap()">Return to Quest Map</button>
        </div>

        <!-- Locked Quest Message -->
        <div id="locked-message" class="quest-locked-message" style="display: none;">
            <h3>🔒 Quest Locked</h3>
            <p>Complete the previous quest to unlock this challenge!</p>
            <button class="return-btn" onclick="returnToMap()" style="margin-top: 15px;">Return to Quest Map</button>
        </div>
    </div>

    <script>
        // Game state management
        let currentQuestionIndex = 0;
        let score = 0;
        let answered = false;
        let currentQuestId = 0;
        let currentQuestType = '';
        let completedQuests = [];

        // Quest data with challenging questions for MSN Education track
        const questData = {
            foundations: {
                name: "Assessment Foundations",
                badge: { icon: "🏛️", name: "Foundation Master", desc: "Complete the Assessment Foundations quest" },
                questions: [
                    {
                        category: "Cognitive Load Theory",
                        scenario: "You're designing a complex pathophysiology lesson that includes anatomical diagrams, physiological processes, and clinical correlations simultaneously.",
                        question: "According to Cognitive Load Theory, what is the most effective approach to manage intrinsic cognitive load in this lesson?",
                        options: [
                            "Present all information simultaneously to show interconnections",
                            "Use worked examples and gradually fade scaffolding as expertise develops",
                            "Eliminate all visual aids to reduce extraneous load",
                            "Increase presentation speed to maintain student attention"
                        ],
                        correct: 1,
                        explanation: "Worked examples with gradual scaffolding reduction (expertise reversal effect) helps manage intrinsic cognitive load by providing structure for novices while allowing experts to process information more efficiently, preventing cognitive overload during complex learning."
                    },
                    {
                        category: "Competency-Based Assessment",
                        question: "When designing entrustable professional activities (EPAs) for nursing students, which factor most significantly differentiates novice from advanced beginner performance levels?",
                        options: [
                            "Speed of task completion",
                            "Ability to recognize and respond to situational nuances and exceptions",
                            "Memorization of procedural steps",
                            "Use of advanced medical terminology"
                        ],
                        correct: 1,
                        explanation: "Advanced beginners demonstrate the ability to recognize situational aspects and exceptions (Dreyfus model), moving beyond rule-based performance to contextual understanding - a critical distinction in EPA assessment design."
                    },
                    {
                        category: "Authentic Assessment Design",
                        scenario: "You're creating an assessment that measures students' ability to integrate clinical reasoning, patient communication, and evidence-based practice in realistic contexts.",
                        question: "Which assessment design principle best ensures authentic measurement while maintaining psychometric rigor?",
                        options: [
                            "Multiple standardized scenarios with identical environmental factors",
                            "Single comprehensive case study with multiple assessment modalities",
                            "Multiple varied scenarios with standardized scoring rubrics and inter-rater reliability measures",
                            "Open-ended portfolio reflection without specific criteria"
                        ],
                        correct: 2,
                        explanation: "Multiple varied scenarios with standardized scoring rubrics balance authenticity (multiple contexts) with reliability (consistent measurement), while inter-rater reliability measures ensure psychometric rigor essential for high-stakes assessment."
                    },
                    {
                        category: "Formative Assessment Theory",
                        question: "According to Black and Wiliam's formative assessment framework, which element is most critical for closing the learning gap in nursing education?",
                        options: [
                            "Frequent low-stakes quizzing",
                            "Students' self-regulation and peer feedback integration",
                            "Instructor-generated feedback only",
                            "Summative assessment alignment"
                        ],
                        correct: 1,
                        explanation: "Self-regulation and peer feedback integration (students as learning resources for each other and owners of their learning) are central to Black and Wiliam's framework, creating sustainable learning processes beyond instructor-dependent feedback."
                    },
                    {
                        category: "Assessment Validity Theory",
                        scenario: "Your nursing program uses simulation-based assessment to evaluate clinical decision-making, but some faculty question whether it truly measures real-world performance.",
                        question: "Which validity evidence would most strongly support the use of simulation-based assessment for clinical decision-making evaluation?",
                        options: [
                            "High internal consistency reliability coefficients",
                            "Correlation between simulation performance and subsequent clinical performance ratings",
                            "Expert judgment of simulation scenario realism",
                            "Student satisfaction with simulation experience"
                        ],
                        correct: 1,
                        explanation: "Predictive validity evidence (correlation with subsequent clinical performance) provides the strongest support for simulation-based assessment, demonstrating that simulation performance meaningfully predicts real-world clinical competence."
                    }
                ]
            },
            technology: {
                name: "Technology Integration Mastery",
                badge: { icon: "💻", name: "Tech Innovator", desc: "Complete the Technology Integration quest" },
                questions: [
                    {
                        category: "Creative Commons vs Traditional Publishing",
                        scenario: "Your nursing program wants to create a custom textbook using existing materials, and you're evaluating different licensing options.",
                        question: "What is the fundamental difference in intellectual property ownership between Creative Commons licensed materials and traditionally published textbooks?",
                        options: [
                            "Creative Commons materials have no copyright protection",
                            "Traditional publishers retain exclusive rights while Creative Commons allows predetermined usage rights to remain with users",
                            "Creative Commons materials are always free while traditional materials cost money",
                            "Traditional publishers own the copyright while Creative Commons materials are public domain"
                        ],
                        correct: 1,
                        explanation: "Creative Commons licensing allows authors to retain copyright while granting specific usage rights to users in advance, whereas traditional publishing typically transfers exclusive rights to publishers, creating different frameworks for derivative work creation and educational use."
                    },
                    {
                        category: "AI Limitations in Education",
                        question: "What is the primary reason large language model chatbots may provide incorrect information in healthcare education contexts?",
                        options: [
                            "They are programmed with outdated medical information",
                            "They generate responses based on statistical patterns in training data rather than verified medical knowledge",
                            "They cannot access current medical databases",
                            "They are designed primarily for entertainment rather than education"
                        ],
                        correct: 1,
                        explanation: "LLMs generate responses based on statistical patterns learned from training data, not from verified knowledge bases or real-time fact-checking, which can lead to plausible-sounding but incorrect medical information - a critical consideration for healthcare education."
                    },
                    {
                        category: "Holographic Technology",
                        scenario: "Your anatomy course is considering implementing holographic displays for 3D anatomical visualization and manipulation.",
                        question: "What is the primary educational advantage of holographic technology over traditional 3D computer models for anatomy education?",
                        options: [
                            "Holographic displays are always more cost-effective",
                            "Spatial depth perception and collaborative viewing without specialized eyewear enable more natural spatial learning",
                            "Holographic images have higher resolution than computer displays",
                            "Students can take holographic images home for study"
                        ],
                        correct: 1,
                        explanation: "Holographic displays provide true spatial depth perception and allow multiple students to view and manipulate 3D structures simultaneously without specialized eyewear, supporting natural spatial cognition and collaborative learning in ways traditional screens cannot replicate."
                    },
                    {
                        category: "Healthcare Data Bias",
                        question: "When implementing AI-powered learning analytics in nursing education, what type of bias in healthcare datasets poses the greatest risk to equitable educational outcomes?",
                        options: [
                            "Temporal bias from using old medical records",
                            "Historical representation bias where certain demographic groups are underrepresented in training data",
                            "Geographic bias from single-institution data",
                            "Language bias from English-only medical literature"
                        ],
                        correct: 1,
                        explanation: "Historical representation bias in healthcare datasets (where certain demographic groups are underrepresented) can perpetuate healthcare disparities through AI systems, making educational tools less effective for diverse student populations and patient scenarios."
                    },
                    {
                        category: "Learning Management Systems",
                        scenario: "You're evaluating LMS platforms that use adaptive algorithms to personalize learning paths for nursing students.",
                        question: "What is the most significant pedagogical risk of over-relying on algorithmic personalization in nursing education?",
                        options: [
                            "Students may become too dependent on technology",
                            "Algorithms may create filter bubbles that limit exposure to diverse clinical scenarios and perspectives",
                            "The technology is too expensive for most programs",
                            "Students prefer traditional teaching methods"
                        ],
                        correct: 1,
                        explanation: "Algorithmic filter bubbles can limit students' exposure to diverse clinical scenarios, patient populations, and alternative approaches, potentially creating narrow competency development that doesn't prepare nurses for the full spectrum of clinical practice."
                    }
                ]
            },
            simulation: {
                name: "Simulation Excellence",
                badge: { icon: "🤖", name: "Simulation Expert", desc: "Complete the Simulation Excellence quest" },
                questions: [
                    {
                        category: "Jefferies Simulation Model",
                        scenario: "You're designing a high-fidelity simulation experience and want to ensure it aligns with evidence-based simulation pedagogy.",
                        question: "According to the Jefferies Simulation Theory, which component is most critical for achieving desired learning outcomes in nursing simulation?",
                        options: [
                            "High-fidelity manikins and advanced technology",
                            "The interconnected relationship between facilitator, participant, and educational practices within the simulation design",
                            "Standardized scenarios used across all institutions",
                            "Post-simulation written examinations"
                        ],
                        correct: 1,
                        explanation: "The Jefferies model emphasizes that learning outcomes result from the dynamic interaction between facilitator characteristics, participant characteristics, and educational practices (objectives, fidelity, debriefing), not just technology or standardization."
                    },
                    {
                        category: "Moulage and Conceptual Fidelity",
                        question: "Why is high-quality moulage essential for maintaining conceptual fidelity in nursing simulations, beyond simple visual realism?",
                        options: [
                            "It makes simulations more entertaining and engaging",
                            "It triggers appropriate clinical reasoning pathways and emotional responses that mirror real patient encounters",
                            "It reduces the cost of using standardized patients",
                            "It allows for easier photography and documentation"
                        ],
                        correct: 1,
                        explanation: "High-quality moulage maintains conceptual fidelity by triggering the same clinical reasoning pathways and emotional responses nurses would have with real patients, ensuring that cognitive and affective learning objectives are met authentically."
                    },
                    {
                        category: "Simulation Debriefing Theory",
                        scenario: "A nursing student made several critical errors during a high-stakes cardiac arrest simulation.",
                        question: "According to evidence-based debriefing practices, what is the most effective approach to address these errors while maintaining psychological safety?",
                        options: [
                            "Immediately correct all errors to prevent reinforcement of incorrect practices",
                            "Use advocacy-inquiry techniques to explore the student's clinical reasoning before offering corrections",
                            "Focus only on positive aspects to maintain student confidence",
                            "Have the student repeat the simulation until performance improves"
                        ],
                        correct: 1,
                        explanation: "Advocacy-inquiry (PEARLS model) maintains psychological safety while promoting deep learning by first understanding the student's reasoning framework before addressing errors, leading to more meaningful learning and retention."
                    },
                    {
                        category: "Virtual Reality Limitations",
                        question: "What is the primary physiological concern when implementing VR simulation for nursing procedures that require fine motor skills?",
                        options: [
                            "Eye strain from prolonged screen exposure",
                            "Cybersickness and vestibular-visual conflict affecting learning and skill transfer",
                            "Reduced physical exercise during learning",
                            "Increased risk of headaches"
                        ],
                        correct: 1,
                        explanation: "Cybersickness and vestibular-visual conflict can significantly impact learning effectiveness and skill transfer to real-world practice, particularly for procedures requiring precise motor control where spatial perception is critical."
                    },
                    {
                        category: "OSCE Psychometric Properties",
                        scenario: "Your OSCE shows high internal consistency (α=0.89) but low correlation between stations measuring similar competencies.",
                        question: "What does this psychometric pattern most likely indicate about your OSCE design?",
                        options: [
                            "The OSCE is perfectly designed and ready for implementation",
                            "The OSCE may be measuring multiple distinct competencies rather than a single underlying construct",
                            "The sample size was too small for reliable analysis",
                            "The scoring rubrics need to be simplified"
                        ],
                        correct: 1,
                        explanation: "High internal consistency with low inter-station correlations suggests the OSCE measures multiple distinct competencies (multidimensional construct) rather than a single underlying ability, which may require reconceptualizing scoring and interpretation approaches."
                    }
                ]
            },
            aiethics: {
                name: "AI & Ethics Navigator",
                badge: { icon: "🛡️", name: "AI Ethics Champion", desc: "Complete the AI & Ethics Navigator quest" },
                questions: [
                    {
                        category: "Algorithmic Bias in Healthcare",
                        scenario: "An AI system used for student assessment consistently rates clinical reasoning scenarios involving minority patient populations lower than similar scenarios with majority populations.",
                        question: "This pattern most likely represents which type of algorithmic bias, and what is the underlying cause?",
                        options: [
                            "Confirmation bias caused by poorly trained evaluators",
                            "Historical bias reflecting disparities in training data and clinical documentation patterns",
                            "Selection bias from unrepresentative student samples",
                            "Measurement bias from invalid assessment instruments"
                        ],
                        correct: 1,
                        explanation: "Historical bias in healthcare AI often reflects systemic disparities in clinical documentation and care patterns for minority populations, which become encoded in training data and perpetuated by AI systems unless explicitly addressed through bias-aware model development."
                    },
                    {
                        category: "AI Transparency in Education",
                        question: "When implementing AI-driven adaptive learning systems, what level of algorithmic transparency is most appropriate for nursing educators and students?",
                        options: [
                            "Complete algorithmic transparency including source code access",
                            "Functional transparency explaining how inputs influence outputs and decision-making criteria",
                            "No transparency needed if the system works effectively",
                            "Transparency only for system administrators"
                        ],
                        correct: 1,
                        explanation: "Functional transparency allows educators and students to understand how the AI system makes decisions affecting learning paths without requiring technical expertise, enabling informed consent and appropriate reliance on AI recommendations."
                    },
                    {
                        category: "Deepfake Detection in Healthcare Education",
                        scenario: "You discover that a widely-used medical education video demonstrating clinical procedures may be partially generated using deepfake technology.",
                        question: "What is the most significant risk this poses to nursing education, beyond simple misinformation?",
                        options: [
                            "Students may lose interest in video-based learning",
                            "Erosion of trust in evidence-based educational resources and clinical authority",
                            "Increased costs for content verification",
                            "Technical difficulties in content delivery"
                        ],
                        correct: 1,
                        explanation: "The most significant risk is the potential erosion of trust in educational authority and evidence-based resources, which could undermine students' ability to critically evaluate clinical information and maintain confidence in legitimate educational content."
                    },
                    {
                        category: "Data Privacy in Learning Analytics",
                        question: "Under current privacy frameworks, what is the most significant ethical concern when using learning analytics to predict nursing student success?",
                        options: [
                            "Storage costs for large datasets",
                            "Potential for discriminatory decision-making based on predictive profiles rather than individual assessment",
                            "Technical complexity of data analysis",
                            "Student complaints about data collection"
                        ],
                        correct: 1,
                        explanation: "Predictive profiling risks creating discriminatory practices where students are treated differently based on algorithmic predictions rather than individual performance and potential, potentially creating self-fulfilling prophecies and limiting opportunities."
                    },
                    {
                        category: "AI Explainability in Assessment",
                        scenario: "An AI system provides personalized feedback to nursing students but cannot explain why it made specific recommendations.",
                        question: "Why is explainability particularly critical for AI systems used in nursing education assessment?",
                        options: [
                            "It reduces computational costs",
                            "It enables students and educators to understand reasoning processes essential for clinical decision-making skill development",
                            "It makes the system run faster",
                            "It satisfies regulatory requirements only"
                        ],
                        correct: 1,
                        explanation: "Explainability is crucial because nursing education must develop students' clinical reasoning skills - if AI recommendations cannot be explained, students miss opportunities to learn reasoning processes essential for safe clinical practice."
                    }
                ]
            },
            resources: {
                name: "Strategic Resource Allocation",
                badge: { icon: "💡", name: "Resource Strategist", desc: "Complete the Strategic Resource Allocation quest" },
                questions: [
                    {
                        category: "Evidence-Based Resource Allocation",
                        scenario: "Your nursing program has $100,000 to allocate between simulation equipment upgrades, faculty development, or expanded clinical partnerships. Enrollment is increasing but faculty retention is challenging.",
                        question: "Which evidence-based framework should guide this resource allocation decision to maximize educational outcomes?",
                        options: [
                            "Cost-per-student calculation only",
                            "Return on Educational Investment (ROEI) analysis incorporating student outcomes, faculty retention, and long-term program sustainability",
                            "Industry benchmarking of peer institutions",
                            "Equal distribution across all three options"
                        ],
                        correct: 1,
                        explanation: "ROEI analysis provides a comprehensive framework that considers multiple outcome measures (student success, faculty retention, program sustainability) and their interconnected effects, enabling data-driven decisions that address root causes rather than symptoms."
                    },
                    {
                        category: "Technology Infrastructure Planning",
                        question: "When planning technology infrastructure for nursing education, what is the most critical factor for ensuring long-term sustainability and educational effectiveness?",
                        options: [
                            "Purchasing the most advanced technology available",
                            "Interoperability and scalability aligned with pedagogical goals and institutional capacity",
                            "Choosing the lowest-cost option",
                            "Following technology trends in other industries"
                        ],
                        correct: 1,
                        explanation: "Interoperability ensures systems work together effectively, scalability allows for growth and adaptation, and pedagogical alignment ensures technology serves educational goals rather than driving them - creating sustainable technology ecosystems."
                    },
                    {
                        category: "Faculty Development ROI",
                        scenario: "Faculty development funding could support either sending 2 faculty to expensive national conferences or providing simulation training for 10 faculty members locally.",
                        question: "Which factor is most important for determining the optimal allocation of faculty development resources?",
                        options: [
                            "Number of faculty reached per dollar spent",
                            "Potential for knowledge transfer and sustainable skill development that impacts student learning outcomes",
                            "Prestige of the development opportunity",
                            "Faculty preference and satisfaction"
                        ],
                        correct: 1,
                        explanation: "Sustainable skill development with knowledge transfer potential maximizes impact on student learning outcomes - the ultimate goal of faculty development investment - while ensuring skills remain within the institution long-term."
                    },
                    {
                        category: "Space Utilization Analytics",
                        question: "When analyzing space utilization data for nursing labs and classrooms, what metric provides the most actionable information for resource optimization?",
                        options: [
                            "Total hours of scheduled use per week",
                            "Utilization efficiency ratio considering scheduled vs. optimal capacity and learning activity alignment",
                            "Number of different courses using each space",
                            "Student satisfaction with physical facilities"
                        ],
                        correct: 1,
                        explanation: "Utilization efficiency ratio considers both capacity optimization and learning activity alignment, providing actionable data for space redesign, scheduling improvements, and resource reallocation that supports educational effectiveness."
                    },
                    {
                        category: "Sustainability Planning",
                        scenario: "Your nursing program needs to develop a 5-year strategic plan for resource allocation that balances current needs with future uncertainties in healthcare education.",
                        question: "What approach best ensures resource allocation sustainability while maintaining educational quality?",
                        options: [
                            "Focus exclusively on maintaining current programs",
                            "Scenario-based planning with flexible resource allocation and continuous environmental scanning",
                            "Copy successful strategies from similar programs",
                            "Delay major investments until the future becomes clearer"
                        ],
                        correct: 1,
                        explanation: "Scenario-based planning with continuous environmental scanning enables adaptive resource allocation that responds to changing healthcare needs, technological advances, and educational innovations while maintaining core program quality."
                    }
                ]
            }
        };

        // Initialize the game
        window.onload = function() {
            updateQuestMap();
        };

        function updateQuestMap() {
            // Update quest availability based on completed quests
            for (let i = 0; i < 5; i++) {
                const questCard = document.getElementById(`quest-${i}`);
                const badge = document.getElementById(`badge-${i}`);
                
                if (completedQuests.includes(i)) {
                    // Mark as completed
                    questCard.classList.remove('locked');
                    questCard.classList.add('completed');
                    questCard.querySelector('.quest-status').innerHTML = '✅ Completed';
                    questCard.querySelector('.quest-status').className = 'quest-status status-completed';
                    badge.classList.add('earned');
                } else if (i === 0 || completedQuests.includes(i - 1)) {
                    // Available (first quest or previous quest completed)
                    questCard.classList.remove('locked');
                    questCard.querySelector('.quest-status').innerHTML = '🚀 Available';
                    questCard.querySelector('.quest-status').className = 'quest-status status-available';
                }
            }
            
            // Award Quest Master badge if all quests completed
            if (completedQuests.length === 5) {
                document.getElementById('badge-5').classList.add('earned');
            }
        }

        function startQuest(questType, questId) {
            // Check if quest is available
            if (questId > 0 && !completedQuests.includes(questId - 1)) {
                showLockedMessage();
                return;
            }
            
            // Check if quest is already completed
            if (completedQuests.includes(questId)) {
                // Allow replay but show a message
                if (!confirm("You've already completed this quest. Would you like to play again?")) {
                    return;
                }
            }
            
            currentQuestType = questType;
            currentQuestId = questId;
            currentQuestionIndex = 0;
            score = 0;
            answered = false;
            
            document.getElementById('quest-map').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            document.getElementById('quest-complete').style.display = 'none';
            document.getElementById('locked-message').style.display = 'none';
            
            document.getElementById('current-quest-name').textContent = questData[questType].name;
            document.getElementById('total-questions').textContent = questData[questType].questions.length;
            
            loadQuestion();
        }

        function showLockedMessage() {
            document.getElementById('quest-map').style.display = 'none';
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('quest-complete').style.display = 'none';
            document.getElementById('locked-message').style.display = 'block';
        }

        function loadQuestion() {
            const questions = questData[currentQuestType].questions;
            const question = questions[currentQuestionIndex];
            
            document.getElementById('category').textContent = question.category;
            document.getElementById('current-question').textContent = currentQuestionIndex + 1;
            document.getElementById('question-text').textContent = question.question;
            document.getElementById('score').textContent = score;
            
            // Handle scenario if present
            const scenarioDiv = document.getElementById('scenario');
            if (question.scenario) {
                scenarioDiv.innerHTML = `<div class="scenario-box"><strong>Scenario:</strong> ${question.scenario}</div>`;
            } else {
                scenarioDiv.innerHTML = '';
            }
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            answered = false;
        }

        function selectOption(selectedIndex) {
            if (answered) return;
            
            answered = true;
            const questions = questData[currentQuestType].questions;
            const question = questions[currentQuestionIndex];
            const options = document.querySelectorAll('.option');
            
            options.forEach((option, index) => {
                if (index === selectedIndex) {
                    option.classList.add('selected');
                }
                option.style.pointerEvents = 'none';
            });
            
            setTimeout(() => {
                options[question.correct].classList.add('correct');
                
                if (selectedIndex === question.correct) {
                    score += 20;
                    showFeedback(true, question.explanation);
                } else {
                    options[selectedIndex].classList.add('incorrect');
                    showFeedback(false, question.explanation);
                }
                
                document.getElementById('score').textContent = score;
                document.getElementById('next-btn').style.display = 'inline-block';
            }, 500);
        }

        function showFeedback(isCorrect, explanation) {
            const feedback = document.getElementById('feedback');
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = `
                <strong>${isCorrect ? '✅ Excellent!' : '❌ Not quite right'}</strong><br>
                ${explanation}
            `;
            feedback.style.display = 'block';
        }

        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= questData[currentQuestType].questions.length) {
                completeQuest();
            } else {
                loadQuestion();
            }
        }

        function completeQuest() {
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('quest-complete').style.display = 'block';
            
            const maxScore = questData[currentQuestType].questions.length * 20;
            const percentage = (score / maxScore) * 100;
            document.getElementById('final-score').textContent = `${percentage.toFixed(0)}% (${score}/${maxScore} points)`;
            
            // Award badge and mark quest as completed
            if (!completedQuests.includes(currentQuestId)) {
                completedQuests.push(currentQuestId);
                
                const badge = questData[currentQuestType].badge;
                document.getElementById('new-badge-icon').textContent = badge.icon;
                document.getElementById('new-badge-name').textContent = badge.name;
                document.getElementById('new-badge-desc').textContent = badge.desc;
            }
            
            // Show appropriate completion message based on score
            let message = "";
            if (percentage >= 90) {
                message = "🌟 Outstanding mastery! You've demonstrated exceptional understanding of these concepts.";
            } else if (percentage >= 80) {
                message = "🎯 Great work! You have a solid grasp of these important concepts.";
            } else if (percentage >= 70) {
                message = "👍 Good effort! Consider reviewing the concepts you missed for better retention.";
            } else {
                message = "📚 Keep learning! Review the material and try again to strengthen your understanding.";
            }
            document.getElementById('completion-message').innerHTML = `<p style="font-size: 1.2em; margin: 20px 0;">${message}</p>`;
        }

        function returnToMap() {
            document.getElementById('quest-map').style.display = 'block';
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('quest-complete').style.display = 'none';
            document.getElementById('locked-message').style.display = 'none';
            
            updateQuestMap();
        }
    </script>
</body>
</html>
